{"_id":"0fkpapack0C4hxIp","name":"Green-Flame Blade","type":"spell","img":"icons/magic/fire/blast-jet-stream-embers-red.webp","data":{"description":{"value":"","chat":"","unidentified":""},"source":"","activation":{"type":"special","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":0,"school":"abj","components":{"value":"","vocal":false,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""}},"effects":[{"_id":"t1odbixd62sxau1y","changes":[{"key":"flags.dnd5e.DamageBonusMacro","mode":0,"value":"ItemMacro.Green-Flame Blade","priority":"20"}],"disabled":false,"duration":{"startTime":null,"turns":1},"icon":"icons/magic/fire/blast-jet-stream-embers-red.webp","label":"Flame Blade","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":["1Attack"],"transfer":false}},"tint":null,"selectedKey":"flags.dnd5e.DamageBonusMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false,"onUseMacroName":"[postActiveEffects]ItemMacro"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Green-Flame Blade","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"const lastArg = args[args.length - 1];\nconst casterToken = await fromUuid(lastArg.tokenUuid)\nif(lastArg.macroPass === \"postActiveEffects\"){\n    let chosenWeapon = await casterToken.actor.items.get(await chooseWeapon(casterToken));\n    await MidiQOL.completeItemRoll(chosenWeapon);\n}\nif(lastArg.macroPass!= \"DamageBonus\")return;\nif(lastArg.itemData.data.actionType != \"mwak\")return;\nif(lastArg.hitTargets.length < 1)return;\nlet firstTarget = await fromUuid(lastArg.hitTargetUuids[0]);\nconst level = casterToken.actor.data.data.details?.level || 0;\nconst diceMult = lastArg.isCritical ? 2: 1;\nconst baseDice = Math.floor((casterToken.actor.data.data.details.level+1)/6);\nconst abilityMod = casterToken.actor.data.data.abilities[`${casterToken.actor.data.data.attributes.spellcasting}`].mod;\nif(baseDice+abilityMod < 1)return;\nconst damage = `${baseDice}d8+${abilityMod}`\nlet nearby = canvas.tokens.placeables.filter(\n  (t) =>\n    t.actor &&\n    t.id !== firstTarget .id &&\n    t.id !== firstTarget.id &&\n    t.actor?.data.data.attributes?.hp?.value > 0 &&\n    t.data.disposition === firstTarget.data.disposition &&\n    MidiQOL.getDistance(t, firstTarget, false) <= 5\n);\nlet targetUuid;\nif (nearby.length < 1){\n    if(baseDice>0)\n        return {damageRoll: `${baseDice * diceMult}d8[fire]`, flavor: \"Green-Flame Blade\"};\n    return;\n}\nif (nearby.length === 1) {\n  targetUuid = nearby[0].document.uuid;\n}\nelse{\n    let options = []\n    for (const t of nearby) {\n        const xDiff = firstTarget.data.x - t.x;\n        const yDiff = firstTarget.data.y - t.y;\n        const xText = xDiff < 0 ? \"Right\" : xDiff > 0 ? \"Left\" : \"\";\n        let yText = \"\";\n        if (yDiff) {\n            if (!xDiff) {\n                yText = yDiff < 0 ? \"Down\" : \"Up\";\n            } else {\n                yText = yDiff < 0 ? \"Lower \" : \"Upper \";\n            }\n        }\n        options.push(`<option value=\"${t.document.uuid}\">${yText + xText}</option>`);\n    }\n    let chosenTarget = await Dialog.prompt({\n        title: 'Choose Secundary Target',\n        content:`\n        <form>\n            <div class=\"form-group\">\n                <label>Target:</label>\n                <select id=\"target\" name=\"target\">\n                ${options}\n                </select>\n            </div>\n        </form>\n        `,\n        callback: (html) => html.find('select#target').val() \n    })\n    targetUuid = await chosenTarget\n}\nawait useItem(casterToken,targetUuid,getItemData(damage))\nif(baseDice<1)return;\nreturn {damageRoll: `${baseDice * diceMult}d8[fire]`, flavor: \"Green-Flame Blade\"};\n\n//Prompt to choose between the equiped weapons, returns item ID;\nasync function chooseWeapon(casterToken){\n    let weapons = casterToken.actor.items.filter(i => i.data.type === `weapon` && i.data.data.actionType == \"mwak\" && i.data.data.equipped);\n    if(weapons.length === 1) return weapons[0].id;\n    if(weapons.length < 1) return;\n    let content = `<div class=\"form-group\"><label>Weapons : </label><select id=\"weapons\">`\n    for (let weapon of weapons) {\n        content += `<option value=${weapon.id}>${weapon.name}</option>`;\n    }\n    content += `</select></div>`\n    let chosenWeapon = await Dialog.prompt({\n        title: 'Choose Weapon',\n        content,\n        callback: (html) => html.find('select#weapons').val() \n    })\n    return chosenWeapon\n}\n\n//Creates an itemon casterToken Actor, usind data passed, uses it on tokenUuid passed,deletes the created item\nasync function useItem(casterToken,tokenUuid,itemData){\n    let [item] = await casterToken.actor.createEmbeddedDocuments(\"Item\",[itemData]);\n    await MidiQOL.completeItemRoll(item, {targetUuids: [tokenUuid]});\n    casterToken.actor.deleteEmbeddedDocuments(\"Item\",[item.id])\n}\n\nfunction getItemData(damage){\n    return {\n        name: \"Green-Flame Blade Secundary Damage\",\n        type: \"spell\",\n        img: \"icons/magic/fire/blast-jet-stream-embers-red.webp\",\n        data: {\n            actionType: \"util\",\n            activation: {type: \"none\"},\n            damage: {parts: [[damage, \"fire\"]]},\n            level:0,\n            school: \"con\"\n        }\n    };\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.thdyrs7PSPsXPCYM"}}}
{"name":"Spare the Dying","type":"spell","img":"systems/dnd5e/icons/spells/heal-sky-1.jpg","data":{"description":{"value":"<p>You touch a living creature that has 0 hit points. The creature becomes stable. This spell has no effect on undead or constructs.</p>","chat":"","unidentified":""},"source":"PHB pg. 277","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"heal","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"nec","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":null},"effects":[{"_id":"iud3b7slxoa651r9","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/heal-sky-1.jpg","label":"Spare the Dying","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.8zT7njvqbpXs4Cel"},"midi-qol":{"effectActivation":false,"onUseMacroName":""},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Spare the Dying","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0] != \"on\")return;\nconst lastArg = args[args.length-1];\nconst actorT = game.actors.get(lastArg.actorId);\nif(actorT.data.data.attributes.hp.value>0)return;\nactorT.update({'data.attributes.death':{\"success\": 3,\"failure\": 0}});","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}},"_id":"49zc0N7wZbXrKEms"}
{"name":"Magic Stone","type":"spell","img":"icons/magic/earth/projectile-boulder-yellow.webp","data":{"description":{"value":"<p>You touch one to three pebbles and imbue them with magic. You or someone else can make a ranged spell attack with one of the pebbles by throwing it or hurling it with a sling. If thrown, it has a range of 60 feet. If someone else attacks with the pebble, that attacker adds your spellcasting ability modifier, not the attacker’s, to the attack roll. On a hit, the target takes bludgeoning damage equal to 1d6 + your spellcasting ability modifier. Hit or miss, the spell then ends on the stone.</p>\n<p> </p>\n<p>If you cast this spell again, the spell ends early on any pebbles still affected by it.</p>","chat":"","unidentified":""},"source":"PHB pg. 269","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"con","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":0},"effects":[{"_id":"ea8nj83wjzq69joi","changes":[{"key":"macro.itemMacro","mode":0,"value":"@attributes.spelldc @prof","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/magic/earth/projectile-boulder-yellow.webp","label":"Magic Stone","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.eCPQuQkIabFKTl9u"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Magic Stone","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"const lastArg = args[args.length-1];\nconst actorT = game.actors.get(lastArg.actorId)\nif(args[0]===\"on\"){\n    let itemData = {\n        \"name\": \"Hurl Magic Stone\",\n        \"type\": \"spell\",\n        \"img\": \"icons/magic/earth/projectile-boulder-yellow.webp\",\n        \"data\": {\n            \"description\": {\n                \"value\": \"<p>You can also attack with the flame, although doing so ends the spell. When you cast this spell, or as an action on a later turn, you can hurl the flame at a creature within 30 feet of you. Make a ranged spell attack. On a hit, the target takes 1d8 fire damage.</p>\\n<p>&nbsp;</p>\\n<p>At Higher Levels. This spell&rsquo;s damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>\",\n                \"chat\": \"\",\n                \"unidentified\": \"\"\n            },\n            \"source\": \"\",\n            \"activation\": {\n                \"type\": \"action\",\n                \"cost\": 1,\n                \"condition\": \"\"\n            },\n            \"duration\": {\n                \"value\": null,\n                \"units\": \"inst\"\n            },\n            \"target\": {\n                \"value\": 1,\n                \"width\": null,\n                \"units\": \"\",\n                \"type\": \"creature\"\n            },\n            \"range\": {\n                \"value\": 30,\n                \"long\": null,\n                \"units\": \"ft\"\n            },\n            \"uses\": {\n                \"value\": \"3\",\n                \"max\": \"3\",\n                \"per\": \"charges\"\n            },\n            \"consume\": {\n                \"type\": \"\",\n                \"target\": \"\",\n                \"amount\": null\n            },\n            \"ability\": \"dex\",\n            \"actionType\": \"rsak\",\n            \"attackBonus\": `${args[1]}-8-${actorT.data.data.abilities.dex.mod}-${actorT.data.data.attributes.prof}`,\n            \"chatFlavor\": \"\",\n            \"critical\": {\n                \"threshold\": null,\n                \"damage\": \"\"\n            },\n            \"damage\": {\n                \"parts\": [\n                    [\n                        `1d6+${args[1]}-8-${args[2]}`,\n                        \"bludgeoning\"\n                    ]\n                ],\n                \"versatile\": \"\"\n            },\n            \"formula\": \"\",\n            \"save\": {\n                \"ability\": \"\",\n                \"dc\": null,\n                \"scaling\": \"spell\"\n            },\n            \"level\": 0,\n            \"school\": \"con\",\n            \"components\": {\n                \"value\": \"\",\n                \"vocal\": false,\n                \"somatic\": false,\n                \"material\": false,\n                \"ritual\": false,\n                \"concentration\": false\n            },\n            \"materials\": {\n                \"value\": \"\",\n                \"consumed\": false,\n                \"cost\": 0,\n                \"supply\": 0\n            },\n            \"preparation\": {\n                \"mode\": \"innate\",\n                \"prepared\": false\n            },\n            \"scaling\": {\n                \"mode\": \"none\",\n                \"formula\": \"\"\n            }\n        },\n        \"effects\": [],\n        \"folder\": null,\n        \"sort\": 0,\n        \"permission\": {\n            \"default\": 0,\n            \"U3VAAELfq3wUHjF9\": 3\n        },\n        \"flags\": {\n            \"midi-qol\": {\n                \"effectActivation\": false,\n                \"onUseMacroName\": \"[postActiveEffects]ItemMacro\"\n            },\n            \"midiProperties\": {\n                \"nodam\": false,\n                \"fulldam\": false,\n                \"halfdam\": false,\n                \"rollOther\": false,\n                \"critOther\": false,\n                \"magicdam\": false,\n                \"magiceffect\": false,\n                \"concentration\": false,\n                \"toggleEffect\": false\n            },\n            \"itemacro\": {\n                \"macro\": {\n                    \"data\": {\n                        \"_id\": null,\n                        \"name\": \"Hurl the Flame\",\n                        \"type\": \"script\",\n                        \"author\": \"U3VAAELfq3wUHjF9\",\n                        \"img\": \"icons/magic/earth/projectile-boulder-yellow.webp\",\n                        \"scope\": \"global\",\n                        \"command\": `if(args[0].item.data.uses.value<1){actor.deleteEmbeddedDocuments('ActiveEffect',[\\'${lastArg.effectId}\\']);}`,\n                        \"folder\": null,\n                        \"sort\": 0,\n                        \"permission\": {\n                            \"default\": 0\n                        },\n                        \"flags\": {}\n                    }\n                }\n            }\n        }\n    };    \n    let itemId = await actorT.createEmbeddedDocuments('Item',[itemData]);\n\n    DAE.setFlag(actorT, \"hurlMagicStoneItemId\", itemId[0].id);\n}\nif(args[0]===\"off\"){\n    let targetToken = canvas.tokens.get(lastArg.tokenId);\n    actorT.deleteEmbeddedDocuments('Item',[actorT.data.flags.dae.hurlMagicStoneItemId]);\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}},"_id":"5shv0ohSiYCE4Kee"}
{"_id":"6LBLmqC7kZdg20XM","name":"Frostbite","type":"spell","img":"icons/magic/water/snowflake-ice-green.webp","data":{"description":{"value":"<p>You cause numbing frost to form on one creature that you can see within range. The target must make a Constitution saving throw. On a failed save, the target takes 1d6 cold damage, and it has disadvantage on the next weapon attack roll it makes before the end of its next turn.</p>\n<p> </p>\n<p>At Higher Levels. The spell’s damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":60,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","necrotic"]],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[{"_id":"NxhGwfe3A2gz8Fze","changes":[{"key":"flags.midi-qol.disadvantage.attack.mwak","mode":5,"value":"1","priority":"20"},{"key":"flags.midi-qol.disadvantage.attack.rwak","mode":5,"value":"1","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1,"turns":1},"icon":"icons/magic/water/snowflake-ice-green.webp","label":"Frostbite","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","macroRepeat":"none","specialDuration":["1Attack:mwak","1Attack:rwak"],"transfer":false,"durationExpression":""}},"tint":null,"selectedKey":["flags.midi-qol.disadvantage.attack.mwak","flags.midi-qol.disadvantage.attack.rwak"]}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":false},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"6fTj5DolUXsbFIB9","name":"Primal Savagery","type":"spell","img":"icons/magic/acid/dissolve-bone-ribs-skull.webp","data":{"description":{"value":"<p>You channel primal magic to cause your teeth or fingernails to sharpen, ready to deliver a corrosive attack. Make a melee spell attack against one creature within 5 feet of you. On a hit, the target takes 1d10 acid damage. After you make the attack, your teeth or fingernails return to normal.</p>\n<p> </p>\n<p>At Higher Levels. The spell’s damage increases by 1d10 when you reach 5th level (2d10), 11th level (3d10), and 17th level (4d10).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"msak","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d10","acid"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":0,"school":"trs","components":{"value":"","vocal":false,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":false,"fumbleThreshold":null},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"6gTo7a6DvBXaOk5R","name":"Resistance","type":"spell","img":"systems/dnd5e/icons/spells/protect-royal-1.jpg","data":{"description":{"value":"<p>You touch one willing creature. Once before the spell ends, the target can roll a d4 and add the number rolled to one saving throw of its choice. It can roll the die before or after making the saving throw. The spell then ends.</p>","chat":"","unidentified":""},"source":"PHB pg. 272","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"","value":""},"formula":"1d4","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"abj","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":true},"materials":{"value":"A miniature clock","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":null},"effects":[{"_id":"njigggiec6a119f5","changes":[{"key":"flags.midi-qol.optional.NAME.save.all","mode":2,"value":"1d4","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/protect-royal-1.jpg","label":"Resistance","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"flags.midi-qol.optional.NAME.save.all"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.dl8YwvMboBqX2OC4"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"name":"Shillelagh","type":"spell","img":"systems/dnd5e/icons/spells/enchant-jade-1.jpg","data":{"description":{"value":"<p>The wood of a club or quarterstaff you are holding is imbued with nature's power. For the duration, you can use your spellcasting ability instead of Strength for the attack and damage rolls of melee attacks using that weapon, and the weapon's damage die becomes a d8. The weapon also becomes magical, if it isn't already. The spell ends if you cast it again or if you let go of the weapon.</p>","chat":"","unidentified":""},"source":"PHB pg. 275","activation":{"type":"bonus","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"","attackBonus":0,"chatFlavor":"","critical":null,"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"trs","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":false},"materials":{"value":"A shamrock leaf, and a club or quarterstaff","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attributes":{"spelldc":10},"attunement":null},"effects":[{"_id":"x3I3PP0wLDynd8JN","flags":{"dae":{"transfer":false,"stackable":false,"specialDuration":[],"macroRepeat":"none"},"ActiveAuras":{"isAura":false,"ignoreSelf":false,"hidden":false,"height":false,"aura":"None","radius":null}},"changes":[{"key":"macro.itemMacro","value":"","mode":0,"priority":0}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/enchant-jade-1.jpg","label":"Shillelagh","origin":"Actor.ZaVJJWXkzU603fLE.OwnedItem.vtUhpbyJYzB2J9ok","tint":null,"transfer":false}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"dynamiceffects":{"equipActive":false,"alwaysActive":false,"effects":[{"modSpecKey":"macro.execute","value":"Shillelagh @target","mode":"+","targetSpecific":false,"id":1,"itemId":"HgYH1Eb3LQ19tsjJ","active":true,"_targets":[],"label":"Macro Execute"}]},"itemacro":{"macro":{"data":{"_id":null,"name":"Shillelagh","type":"script","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"const lastArg = args[args.length - 1];\nlet tactor;\ntactor = MidiQOL.MQfromActorUuid(lastArg.actorUuid);\nlet weapons = tactor.items.filter(i => i.data.type === `weapon`);\nlet weapon_content = ``;\n\nfor (let weapon of weapons) {\n    weapon_content += `<option value=${weapon.id}>${weapon.name}</option>`;\n}\nif (args[0] === \"on\") {\n    let content = `\n<div class=\"form-group\">\n  <label>Weapons : </label>\n  <select name=\"weapons\">\n    ${weapon_content}\n  </select>\n</div>`;\n\n    new Dialog({\n        title: \"Choose a club or quarterstaff\",\n        content,\n        buttons:\n        {\n            Ok:\n            {\n                label: `Ok`,\n                callback: (html) => {\n                    let itemId = html.find('[name=weapons]')[0].value;\n                    let weaponItem = tactor.items.get(itemId);\n                    let copy_item = duplicate(weaponItem.toObject());\n                    DAE.setFlag(tactor, `shillelagh`, {\n                        id : itemId,\n                        damage : copy_item.data.damage.parts[0][0]    \n                    });\n                    let damage = copy_item.data.damage.parts[0][0];\n                    var newdamage = damage.replace(/1d(4|6)/g,\"1d8\");\n                    copy_item.data.damage.parts[0][0] = newdamage;\n                    copy_item.data.ability = \"wis\";\n                    tactor.updateEmbeddedDocuments(\"Item\", [copy_item]);\n                    ChatMessage.create({content: copy_item.name + \" is empowered\"});\n                }\n            },\n            Cancel:\n            {\n                label: `Cancel`\n            }\n        }\n    }).render(true);\n}\n\nif (args[0] === \"off\") {\n    let flag = DAE.getFlag(tactor, `shillelagh`);\n    let weaponItem = tactor.items.get(flag.id);\n    let copy_item = duplicate(weaponItem.toObject());\n    copy_item.data.damage.parts[0][0] = flag.damage;\n    copy_item.data.ability = \"\";\n    await tactor.updateEmbeddedDocuments(\"Item\", [copy_item]);\n    DAE.unsetFlag(tactor, `shillelagh`);\n    ChatMessage.create({content: copy_item.name + \" returns to normal\"});\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"dae":{"migrated":true},"autoanimations":{"killAnim":false,"override":false,"animType":"t1","animName":"","hmAnim":"a1","color":"n1","uaStrikeType":"physical","dtvar":"dt1","explosion":false,"explodeVariant":"ev1","explodeColor":"ec1","explodeRadius":"0","explodeLoop":"1","selfRadius":"5","animTint":"#ffffff","auraOpacity":0.75,"ctaOption":false,"teleDist":30},"favtab":{"isFavorite":false},"core":{"sourceId":"Item.qUrSuOAn8P3c9Jue"},"cf":{"id":"temp_5o7edvfx9a","color":"#000000"},"betterRolls5e":{"quickDesc":{"value":true,"altValue":true},"quickProperties":{"value":true,"altValue":true},"quickVersatile":{"value":false,"altValue":false},"quickOther":{"value":true,"altValue":true},"quickFlavor":{"value":true,"altValue":true}}},"_id":"AGP0Ap1dwVR71il0"}
{"_id":"EM49DXbs9EsVeVIf","name":"Eldritch Blast","type":"spell","img":"systems/dnd5e/icons/spells/fireball-eerie-1.jpg","data":{"description":{"value":"<p>A beam of crackling energy streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 force damage.</p><p>The spell creates more than one beam when you reach higher levels: two beams at 5th level, three beams at 11th level, and four beams at 17th level. You can direct the beams at the same target or at different ones. Make a separate attack roll for each beam.</p>","chat":"","unidentified":""},"source":"PHB pg. 237","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":120,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"rsak","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d10","force"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""}},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.Z9p1vezIn95jw1Yw"},"midi-qol":{"fumbleThreshold":null,"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"EPqysHqIamQehCsN","name":"Mind Sliver","type":"spell","img":"icons/magic/earth/projectile-stone-bullet-pink.webp","data":{"description":{"value":"You drive a disorienting spike of psychic energy into the mind of one creature you can see within range. The target must succeed on an Intelligence saving throw or take 1d6 psychic damage and subtract 1d4 from the next saving throw it makes before the end of your next turn.\n\nAt Higher Levels. This spell’s damage increases by 1d6 when you reach certain levels: 5th level (2d6), 11th level (3d6), and 17th level (4d6).","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"round"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":null},"damage":{"parts":[["1d6","psychic"]],"versatile":"","value":""},"formula":"","save":{"ability":"int","dc":20,"scaling":"spell"},"level":0,"school":"enc","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":"1d6"},"attunement":null},"effects":[{"_id":"YG33V4oAMECg5fC3","flags":{"dae":{"stackable":"none","macroRepeat":"none","transfer":false,"specialDuration":["None","isSave"],"durationExpression":""},"core":{"statusId":""}},"changes":[{"key":"data.bonuses.abilities.save","mode":2,"value":"-1d4","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1,"turns":1},"icon":"icons/magic/earth/projectile-stone-bullet-pink.webp","label":"Mind Sliver","origin":"Actor.LClwU7mAyShYLmFU.OwnedItem.Xx810qrpyxTIvsPf","tint":null,"transfer":false,"selectedKey":"data.bonuses.abilities.save"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"dynamiceffects":{"equipActive":true,"alwaysActive":false,"effects":[{"modSpecKey":"flags.dnd5e.conditions","value":"Incapacitated","mode":"+","targetSpecific":false,"id":1,"itemId":"q3HatlCWUJa7m80R","active":true,"_targets":[],"label":"Flags Condition"},{"modSpecKey":"flags.dnd5e.conditions","value":"Prone","mode":"+","targetSpecific":false,"id":2,"itemId":"q3HatlCWUJa7m80R","active":true,"_targets":[]}]},"dae":{"activeEquipped":false,"alwaysActive":false},"midi-qol":{"onUseMacroName":"","effectActivation":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Farpa da Mente(DAE)","type":"script","author":"LK3GGIRsXTESa8v3","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.Xx810qrpyxTIvsPf"},"midiProperties":{"nodam":true,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"Hq5OfxRh39A374EU","name":"Acid Splash","type":"spell","img":"icons/magic/acid/dissolve-drip-droplet-smoke.webp","data":{"description":{"value":"<p>You hurl a bubble of acid. Choose one creature you can see within range, or choose two creatures you can see within range that are within 5 feet of each other. A target must succeed on a Dexterity saving throw or take 1d6 acid damage.</p>\n<p> </p>\n<p>At Higher Levels. This spell’s damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":2,"width":5,"units":"","type":"creature"},"range":{"value":60,"long":60,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","acid"]],"versatile":""},"formula":"","save":{"ability":"dex","dc":null,"scaling":"spell"},"level":0,"school":"con","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":false,"onUseMacroName":"[preItemRoll]ItemMacro"},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"siftoolkit":{"SIFData":{"ignoreDuration":false,"texture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true,"playTemplateAudio":false,"playDamageAudio":false,"playSaveAudio":false,"clip":"","volume":100}},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Acid Splash","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0].targets.length < 2)return;\nif(args[0].targets.length > 2){\n    ui.notifications.warn(\"This spell can target only up to 2 creatures\");\n    return false;\n}\nif(canvas.grid.measureDistance(args[0].targets[0].data,args[0].targets[1].data)>7.5){\n    ui.notifications.warn(\"The targets of Acid Splash must be  within 5 feet of each other\");\n    return false;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}}}
{"_id":"InoRw1lWou4bcYeA","name":"Gust","type":"spell","img":"icons/magic/air/air-smoke-casting.webp","data":{"description":{"value":"<p>You seize the air and compel it to create one of the following effects at a point you can see within range:</p>\n<p> </p>\n<ul>\n<li>One Medium or smaller creature that you choose must succeed on a Strength saving throw or be pushed up to 5 feet away from you.</li>\n<li>You create a small blast of air capable of moving one object that is neither held nor carried and that weighs no more than 5 pounds. The object is pushed up to 10 feet away from you. It isn’t pushed with enough force to cause damage.</li>\n<li>You create a harmless sensory affect using air, such as causing leaves to rustle, wind to slam shutters shut, or your clothing to ripple in a breeze.</li>\n</ul>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":60,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"str","dc":null,"scaling":"spell"},"level":0,"school":"trs","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":0},"effects":[{"_id":"06sok171pbhp1c6r","changes":[{"key":"macro.itemMacro","mode":0,"value":"@token","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/magic/air/air-smoke-casting.webp","label":"Gust","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":true,"onUseMacroName":"[postActiveEffects]ItemMacro"},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"itemacro":{"macro":{"data":{"_id":null,"name":"Gust","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0]===\"on\"){\n    const lastArg = args[args.length-1]\n    const ttarget = canvas.scene.tokens.get(lastArg.tokenId)\n    const tokenD = canvas.tokens.get(args[1]);\n    await ttarget.setFlag(\"dnd5e\",\"forcedMovement\",2);\n    if(ttarget.data.width <2){\n        let ux = tokenD.x\n        let uy = tokenD.y\n        let tx = ttarget.data.x\n        let ty = ttarget.data.y\n        let square = canvas.dimensions.size\n        if (ux < tx){await ttarget.update({x: tx+square})}\n        if (ux > tx){await ttarget.update({x: tx-square})}\n        if (uy < ty){await ttarget.update({y: ty+square})}\n        if (uy > ty){await ttarget.update({y: ty-square})}\n    }\n    await ttarget.unsetFlag(\"dnd5e\",\"forcedMovement\");\n    ttarget.actor.deleteEmbeddedDocuments(\"ActiveEffect\",[lastArg.effectId]);\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"enhanced-terrain-layer":{"multiple":1,"min":0,"max":0,"environment":""},"siftoolkit":{"SIFData":{"ignoreDuration":false,"texture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true,"playTemplateAudio":false,"playDamageAudio":false,"playSaveAudio":false,"clip":"","volume":100}},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"name":"Shocking Grasp","type":"spell","img":"systems/dnd5e/icons/spells/lightning-blue-1.jpg","data":{"description":{"value":"<p>Lightning springs from your hand to deliver a shock to a creature you try to touch. Make a melee spell attack against the target. You have advantage on the attack roll if the target is wearing armor made of metal. On a hit, the target takes 1d8 lightning damage, and it can't take reactions until the start of its next turn.</p><p>The spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"msak","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d8","lightning"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[{"_id":"c3nfmthixlmsuofb","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/lightning-blue-1.jpg","label":"Shocking Grasp","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.XvbiNhNqXXIFisIy"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Shocking Grasp","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0] === \"on\"){\n    const lastArg = args[args.length-1]\n    const actor = game.actors.get(lastArg.actorId)\n    actor.setFlag(\"midi-qol\",'reactionCombatRound',game.combat.current.round)\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}},"_id":"LfBlq8ZhClZGtDZc"}
{"_id":"MuOLwdwRbWLKgocX","name":"Ray of Frost","type":"spell","img":"icons/magic/water/projectile-icecicle-glowing.webp","data":{"description":{"value":"<p>A frigid beam of blue-white light streaks toward a creature within range. Make a ranged spell attack against the target. On a hit, it takes 1d8 cold damage, and its speed is reduced by 10 feet until the start of your next turn.</p>\n<p> </p>\n<p>At Higher Levels. The spell’s damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"round"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"rsak","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d8","cold"]],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":20,"scaling":"spell"},"level":0,"school":"enc","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[{"_id":"YG33V4oAMECg5fC3","flags":{"dae":{"stackable":"none","macroRepeat":"none","transfer":false,"specialDuration":[]},"core":{"statusId":""}},"changes":[{"key":"data.attributes.movement.all","mode":0,"value":"-10","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1},"icon":"icons/magic/water/projectile-icecicle-glowing.webp","label":"Farpa da Mente(DAE)","origin":"Actor.LClwU7mAyShYLmFU.OwnedItem.Xx810qrpyxTIvsPf","tint":null,"transfer":false,"selectedKey":"data.attributes.movement.all"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"dynamiceffects":{"equipActive":true,"alwaysActive":false,"effects":[{"modSpecKey":"flags.dnd5e.conditions","value":"Incapacitated","mode":"+","targetSpecific":false,"id":1,"itemId":"q3HatlCWUJa7m80R","active":true,"_targets":[],"label":"Flags Condition"},{"modSpecKey":"flags.dnd5e.conditions","value":"Prone","mode":"+","targetSpecific":false,"id":2,"itemId":"q3HatlCWUJa7m80R","active":true,"_targets":[]}]},"dae":{"activeEquipped":false,"alwaysActive":false},"midi-qol":{"onUseMacroName":"","effectActivation":false,"criticalThreshold":"20","fumbleThreshold":null},"itemacro":{"macro":{"data":{"_id":null,"name":"Farpa da Mente(DAE)","type":"script","author":"LK3GGIRsXTESa8v3","img":"icons/svg/dice-target.svg","scope":"global","command":"","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.Xx810qrpyxTIvsPf"},"siftoolkit":{"SIFData":{"ignoreDuration":false,"texture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true,"playTemplateAudio":false,"playDamageAudio":false,"playSaveAudio":false,"clip":"","volume":100}},"midiProperties":{"nodam":false,"halfdam":false,"fulldam":false,"critOther":false,"concentration":false,"rollOther":false,"magicdam":false,"magiceffect":false,"toggleEffect":false}}}
{"_id":"TrxcG0CMtvDooVxE","name":"Vicious Mockery","type":"spell","img":"icons/skills/toxins/cup-goblet-poisoned-spilled.webp","data":{"description":{"value":"<p>You unleash a string of insults laced with subtle enchantments at a creature you can see within range. If the target can hear you (though it need not understand you), it must succeed on a Wisdom saving throw or take 1d4 psychic damage and have disadvantage on the next attack roll it makes before the end of its next turn.</p><p>This spell's damage increases by 1d4 when you reach 5th level (2d4), 11th level (3d4), and 17th level (4d4).</p>","chat":"","unidentified":""},"source":"PHB pg. 285","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d4","psychic"]],"versatile":""},"formula":"","save":{"ability":"wis","dc":0,"scaling":"spell"},"level":0,"school":"enc","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[{"_id":"oidqnji07mejhs03","changes":[{"key":"flags.midi-qol.disadvantage.attack.all","mode":2,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1},"icon":"icons/skills/toxins/cup-goblet-poisoned-spilled.webp","label":"Vicious Mockery","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":["1Attack"],"transfer":false}},"tint":null,"selectedKey":"flags.midi-qol.disadvantage.attack.all"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.cdrYKaFi98YWaBMw"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"W7XVW6VgJ65DBJaK","name":"Chill Touch","type":"spell","img":"icons/magic/death/hand-undead-skeleton-fire-green.webp","data":{"description":{"value":"<p>You create a ghostly, skeletal hand in the space of a creature within range. Make a ranged spell attack against the creature to assail it with the chill of the grave. On a hit, the target takes 1d8 necrotic damage, and it can’t regain hit points until the start of your next turn. Until then, the hand clings to the target. If you hit an undead target, it also has disadvantage on attack rolls against you until the end of your next turn.</p>\n<p> </p>\n<p>At Higher Levels. This spell’s damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":120,"long":120,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"rsak","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d8","necrotic"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":0,"school":"nec","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[{"_id":"NxhGwfe3A2gz8Fze","changes":[{"key":"data.traits.di.value","mode":0,"value":"healing","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1},"icon":"icons/magic/death/hand-undead-skeleton-fire-green.webp","label":"Chill Touch","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"data.traits.di.value"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":false,"fumbleThreshold":null},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"_id":"YVGJvKaVolbiKSqe","name":"Infestation","type":"spell","img":"icons/creatures/invertebrates/fly-wasp-mosquito-green.webp","data":{"description":{"value":"<p>You cause a cloud of mites, fleas, and other parasites to appear momentarily on one creature you can see within range. The target must succeed on a Constitution saving throw, or it takes 1d6 poison damage and moves 5 feet in a random direction if it can move and its speed is at least 5 feet. Roll a d4 for the direction: 1, north; 2, south; 3, east; or 4, west. This movement doesn’t provoke opportunity attacks, and if the direction rolled is blocked, the target doesn't move.</p>\n<p> </p>\n<p>At Higher Levels. The spell’s damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":30,"long":30,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","poison"]],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"level":0,"school":"trs","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":0},"effects":[{"_id":"nxq8ookgumbjlfqm","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/creatures/invertebrates/fly-wasp-mosquito-green.webp","label":"Infestation","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":true,"onUseMacroName":"[postActiveEffects]ItemMacro"},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"itemacro":{"macro":{"data":{"_id":null,"name":"Infestation","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0]===\"on\"){\n    const lastArg = args[args.length-1]\n    const ttarget = canvas.scene.tokens.get(lastArg.tokenId)\n    const square = canvas.dimensions.size\n    await ttarget.setFlag(\"dnd5e\",\"forcedMovement\",2);\n    let tx = ttarget.data.x\n    let ty = ttarget.data.y\n    let direction = await new Roll('1d4').evaluate({async:true})\n    if (direction.total == 1){await ttarget.update({x: tx+square})}\n    if (direction.total == 2){await ttarget.update({x: tx-square})}\n    if (direction.total == 3){await ttarget.update({y: ty+square})}\n    if (direction.total == 4){await ttarget.update({y: ty-square})}\n    await ttarget.unsetFlag(\"dnd5e\",\"forcedMovement\"); \n    ttarget.actor.deleteEmbeddedDocuments(\"ActiveEffect\",[lastArg.effectId]);\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"midiProperties":{"nodam":true,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"name":"Guidance","type":"spell","img":"systems/dnd5e/icons/spells/haste-sky-1.jpg","data":{"description":{"value":"<p>You touch one willing creature. Once before the spell ends, the target can roll a d4 and add the number rolled to one ability check of its choice. It can roll the die before or after making the ability check. The spell then ends.</p>","chat":"","unidentified":""},"source":"PHB pg. 248","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"minute"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"","value":""},"formula":"1d4","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"div","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":true},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":null},"effects":[{"_id":"fll8zbe24fts5dew","changes":[{"key":"flags.midi-qol.optional.NAME.check.all","mode":2,"value":"1d4","priority":"20"},{"key":"flags.midi-qol.optional.NAME.skill.all","mode":2,"value":"1d4","priority":"20"}],"disabled":false,"duration":{"startTime":null,"seconds":60,"rounds":10},"icon":"systems/dnd5e/icons/spells/haste-sky-1.jpg","label":"Guidance (DAE)","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","macroRepeat":"none","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":["flags.midi-qol.optional.NAME.check.all","flags.midi-qol.optional.NAME.skill.all"]}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.P7mF2MxSuVJwHRRY"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}},"_id":"ZzQrvUV3qkYBNXoT"}
{"_id":"cm5cCynJETd6ODui","name":"Booming Blade","type":"spell","img":"icons/magic/sonic/projectile-shock-wave-blue.webp","data":{"description":{"value":"","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":5,"long":5,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":false,"somatic":true,"material":true,"ritual":false,"concentration":false},"materials":{"value":"A melee weapon worth at least 1 sp","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":0},"effects":[{"_id":"9MUNrfcmZSsacNw6","changes":[{"key":"macro.itemMacro","mode":0,"value":"","priority":"20"},{"key":"flags.dnd5e.DamageBonusMacro","mode":0,"value":"ItemMacro.Booming Blade","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1},"icon":"icons/magic/sonic/projectile-shock-wave-blue.webp","label":"Booming Blade","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","macroRepeat":"none","specialDuration":["1Attack"],"transfer":false,"durationExpression":""},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":["macro.itemMacro","flags.dnd5e.DamageBonusMacro"]}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"criticalThreshold":"20","effectActivation":false,"onUseMacroName":"[postActiveEffects]ItemMacro"},"core":{"sourceId":"Item.XTRjeSJzMXwRDnRC"},"itemacro":{"macro":{"data":{"_id":null,"name":"Booming Blade","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"const lastArg = args[args.length - 1];\nconst casterToken = await fromUuid(lastArg.tokenUuid)\nif(lastArg.macroPass === \"postActiveEffects\"){\n    let chosenWeapon = await casterToken.actor.items.get(await chooseWeapon(casterToken));\n    await MidiQOL.completeItemRoll(chosenWeapon);\n}\nif(lastArg.macroPass!= \"DamageBonus\")return;\nif(lastArg.itemData.data.actionType != \"mwak\")return;\nif(lastArg.hitTargets.length < 1)return;\nlet firstTarget = await fromUuid(lastArg.hitTargetUuids[0]);\nconst level = casterToken.actor.data.data.details?.level || 0;\nconst diceMult = lastArg.isCritical ? 2: 1;\nconst baseDice = Math.floor((casterToken.actor.data.data.details.level+1)/6);\nlet damage = `${baseDice+1}d8`\nMidiQOL.socket().executeAsGM(\"createEffects\", {actorUuid: firstTarget.actor.uuid, effects: [getEffectData(damage)]});\nif(baseDice<1)return;\nreturn {damageRoll: `${baseDice * diceMult}d8[thunder]`, flavor: \"Booming Blade\"};\n\n//Prompt to choose between the equiped weapons, returns item ID;\nasync function chooseWeapon(casterToken){\n    let weapons = casterToken.actor.items.filter(i => i.data.type === `weapon` && i.data.data.actionType == \"mwak\" && i.data.data.equipped);\n    if(weapons.length === 1) return weapons[0].id;\n    if(weapons.length < 1) return;\n    let content = `<div class=\"form-group\"><label>Weapons : </label><select id=\"weapons\">`\n    for (let weapon of weapons) {\n        content += `<option value=${weapon.id}>${weapon.name}</option>`;\n    }\n    content += `</select></div>`\n    let chosenWeapon = await Dialog.prompt({\n        title: 'Choose Weapon',\n        content,\n        callback: (html) => html.find('select#weapons').val() \n    })\n    return chosenWeapon\n}\n\nfunction getEffectData(damage){\n    return {\n        \"changes\": [\n            {\n                \"key\": \"macro.itemMacro\",\n                \"mode\": 0,\n                \"value\": ``,\n                \"priority\": \"20\"\n            }\n        ],\n        \"disabled\": false,\n        \"duration\": {\n            \"rounds\": 1\n        },\n        \"icon\": \"icons/magic/sonic/projectile-shock-wave-blue.webp\",\n        \"label\": \"Booming Blade\",\n        \"flags\": {\n            \"dae\": {\n                \"stackable\": \"none\",\n                \"specialDuration\": [],\n                \"transfer\": false,\n                \"itemData\": {\n                    \"flags\": {\n                        \"itemacro\": {\n                            \"macro\": {\n                                \"data\": {\n                                    \"command\": `const lastArg = args[args.length-1];\n                                                if(args[0] === \"on\"){\n                                                    let tokenD = canvas.tokens.get(lastArg.tokenId);\n                                                    let hookId = Hooks.on(\"updateToken\", (document, options, user) => {\n                                                        if(document.id === lastArg.tokenId && (\"x\" in options || \"y\" in options)){\n                                                            if(!document.data.flags.dnd5e?.forcedMovement){\n                                                                useItem(tokenD,tokenD.document.uuid)\n                                                                tokenD.actor.deleteEmbeddedDocuments(\"ActiveEffect\", [lastArg.effectId]);\n                                                            }\n                                                        }        \n                                                    });\n                                                    DAE.setFlag(tokenD, \"BoomingBladeEffectHook\", hookId);\n                                                    async function useItem(casterToken,tokenUuid){\n                                                        let [item] = await casterToken.actor.createEmbeddedDocuments(\"Item\",[getItemData()]);\n                                                        await MidiQOL.completeItemRoll(item, {targetUuids: [tokenUuid]});\n                                                        casterToken.actor.deleteEmbeddedDocuments(\"Item\",[item.id])\n                                                    }\n                                                    function getItemData(){\n                                                        return {\n                                                            name: \"Booming Blade Secundary Damage\",\n                                                            type: \"spell\",\n                                                            img: \"icons/magic/sonic/projectile-shock-wave-blue.webp\",\n                                                            data: {\n                                                                actionType: \"util\",\n                                                                activation: {type: \"none\"},\n                                                                damage: {parts: [[\"${damage}\", \"thunder\"]]},\n                                                                level:0,\n                                                                school: \"con\"\n                                                            }\n                                                        };\n                                                    }\n                                                }\n                                                if (args[0] === \"off\") {\n                                                    let tokenD = canvas.tokens.get(lastArg.tokenId);\n                                                    let hookFlag = DAE.getFlag(tokenD, \"BoomingBladeEffectHook\");\n                                                    Hooks.off(\"updateToken\", hookFlag);\n                                                    DAE.unsetFlag(tokenD, \"BoomingBladeEffectHook\");\n                                                }`,\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"selfEffect":false},"exportSource":{"world":"teste","system":"dnd5e","coreVersion":"9.255","systemVersion":"1.5.7"},"siftoolkit":{"SIFData":{"ignoreDuration":false,"texture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true,"playTemplateAudio":false,"playDamageAudio":false,"playSaveAudio":false,"clip":"","volume":100}},"scene-packer":{"sourceId":"Item.TGBBMDhNzwqRViQI","hash":"e3c0b2bcdd36a621c14486cc8fcdb84eed62cf3a"}}}
{"_id":"d7wtZPDLdv03B7gS","name":"Sacred Flame","type":"spell","img":"systems/dnd5e/icons/spells/beam-orange-2.jpg","data":{"description":{"value":"<p>Flame-like radiance descends on a creature that you can see within range. The target must succeed on a Dexterity saving throw or take 1d8 radiant damage. The target gains no benefit from cover for this saving throw.</p><p>The spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>","chat":"","unidentified":""},"source":"PHB pg. 272","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":0,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d8","radiant"]],"versatile":""},"formula":"","save":{"ability":"dex","dc":0,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.n9pJzTDsAwQxJVRl"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"name":"Fire Bolt","type":"spell","img":"systems/dnd5e/icons/spells/fireball-red-1.jpg","data":{"description":{"value":"<p>You hurl a mote of fire at a creature or object within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 fire damage. A flammable object hit by this spell ignites if it isn't being worn or carried.</p><p>This spell's damage increases by 1d10 when you reach 5th level (2d10), 11th level (3d10), and 17th level (4d10).</p>","chat":"","unidentified":""},"source":"PHB pg. 242","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":120,"long":0,"units":"ft"},"uses":{"value":0,"max":0,"per":""},"consume":{"type":"","target":null,"amount":null},"ability":"","actionType":"rsak","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d10","fire"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""}},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.EOmsUcFQJTfG2oio"}},"_id":"gMd61WCVm0mDlVjk"}
{"_id":"jNSMbveUNDQx21xi","name":"Poison Spray","type":"spell","img":"systems/dnd5e/icons/spells/fireball-acid-2.jpg","data":{"description":{"value":"<p>You extend your hand toward a creature you can see within range and project a puff of noxious gas from your palm. The creature must succeed on a Constitution saving throw or take 1d12 poison damage.</p><p>This spell's damage increases by 1d12 when you reach 5th level (2d12), 11th level (3d12), and 17th level (4d12).</p>","chat":"","unidentified":""},"source":"PHB pg. 266","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":10,"long":null,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d12","poison"]],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"level":0,"school":"con","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.g2u9PYfqWQAyg9OI"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}}}
{"name":"True Strike","type":"spell","img":"systems/dnd5e/icons/spells/enchant-sky-1.jpg","data":{"description":{"value":"<p>You extend your hand and point a finger at a target in range. Your magic grants you a brief insight into the target's defenses. On your next turn, you gain advantage on your first attack roll against the target, provided that this spell hasn't ended.</p>","chat":"","unidentified":""},"source":"PHB pg. 284","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"round"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"div","components":{"value":"","vocal":false,"somatic":true,"material":false,"ritual":false,"concentration":true},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":null},"effects":[{"_id":"zkb2tolzihgzsipx","changes":[{"key":"flags.midi-qol.advantage.attack.all","mode":2,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/enchant-sky-1.jpg","label":"True Strike","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":["1Attack"],"transfer":false}},"tint":null,"selectedKey":"flags.midi-qol.advantage.attack.all"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.mGGlcLdggHwcL7MG"},"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false}},"_id":"jSP3LMF5QHHGj0Lh"}
{"name":"Toll the Dead","type":"spell","img":"/systems/dnd5e/icons/skills/water_03.jpg","data":{"description":{"value":"<p class=\"Core-Styles_Core-Body\">You point at one creature you can see within range, and the sound of a dolorous bell fills the air around it for a moment. The target must succeed on a Wisdom saving throw or take 1d8 necrotic damage. If the target is missing any of its hit points, it instead takes 1d12 necrotic damage.</p>\n<p class=\"Core-Styles_Core-Body\">The spell’s damage increases by one die when you reach 5th level (2d8 or 2d12), 11th level (3d8 or 3d12), and 17th level (4d8 or 4d12).</p>","chat":"<p class=\"Core-Styles_Core-Body\">You point at one creature you can see within range, and the sound of a dolorous bell fills the air around it for a moment. The target must succeed on a Wisdom saving throw or take 1d8 necrotic damage. If the target is missing any of its hit points, it instead takes 1d12 necrotic damage.</p>\n<p class=\"Core-Styles_Core-Body\">The spell’s damage increases by one die when you reach 5th level (2d8 or 2d12), 11th level (3d8 or 3d12), and 17th level (4d8 or 4d12).</p>","unidentified":""},"source":"Xanathar's Guide to Everything pg 169","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":60,"long":null,"units":"ft"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":null},"damage":{"parts":[["1d12","necrotic"]],"versatile":""},"formula":"","save":{"ability":"wis","dc":null,"scaling":"spell"},"level":0,"school":"nec","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attributes":{"spelldc":10},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"devnIbfBHb74U9Zv":3,"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"ddbimporter":{"id":138274,"definitionId":14615,"entityTypeId":435869154,"dndbeyond":{"lookup":"generic","lookupName":"generic","level":null,"castAtLevel":null},"sources":[{"sourceId":27,"pageNumber":169,"sourceType":1}],"tags":["Damage"]},"betterRolls5e":{"quickVersatile":{"altValue":true},"quickCharges":{"value":{"use":true,"resource":true},"altValue":{"use":true,"resource":true}}},"midi-qol":{"effectActivation":false,"onUseMacroName":"[preDamageRoll]ItemMacro"},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"core":{"sourceId":"Compendium.world.ddb-spells.eWALttYghEEA1qOa"},"scene-packer":{"hash":"9f7ff19882d5754133397d9eb2657cd5ce210bd1","sourceId":"Item.CHNM01gLo3kddfju"},"itemacro":{"macro":{"data":{"_id":null,"name":"Toll the Dead","type":"script","author":"devnIbfBHb74U9Zv","img":"icons/svg/dice-target.svg","scope":"global","command":"if (args[0].macroPass === \"preDamageRoll\") {\n    const target = await fromUuid(args[0].targetUuids[0]);\n    const needsD12 = target.actor.data.data.attributes.hp.value < target.actor.data.data.attributes.hp.max;\n    const theItem = await fromUuid(args[0].uuid);\n    let formula = theItem.data.data.damage.parts[0][0];\n    if (needsD12) \n        formula = formula.replace(\"d8\", \"d12\")\n    else \n        formula = formula.replace(\"d12\", \"d8\");\n    theItem.data.data.damage.parts[0][0] = formula;\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"cf":{"id":"temp_5o7edvfx9a"}},"_id":"kBgFHwsieFPVKz8B"}
{"name":"Lightning Lure","type":"spell","img":"icons/magic/light/hand-sparks-smoke-green.webp","data":{"description":{"value":"<p>You create a lash of lightning energy that strikes at one creature of your choice that you can see within 15 feet of you. The target must succeed on a Strength saving throw or be pulled up to 10 feet in a straight line toward you and then take 1d8 lightning damage if it is within 5 feet of you.</p>\n<p> </p>\n<p>At Higher Levels. This spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":15,"long":15,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"str","dc":null,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":0},"effects":[{"_id":"on8kkdioge1h2crd","changes":[{"key":"macro.itemMacro","mode":0,"value":"@token","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/magic/light/hand-sparks-smoke-green.webp","label":"Lightning Lure","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Lightning Lure","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0]===\"on\"){\n    const lastArg = args[args.length-1];\n    const ttarget = canvas.scene.tokens.get(lastArg.tokenId);\n    const targetToken = canvas.tokens.get(lastArg.tokenId);\n    const tokenD = canvas.tokens.get(args[1]);\n    await ttarget.setFlag(\"dnd5e\",\"forcedMovement\",2);\n    const square = canvas.dimensions.size;\n    let ux = tokenD.x;\n    let uy = tokenD.y;\n    let tx = ttarget.data.x;\n    let ty = ttarget.data.y;\n    if(canvas.grid.measureDistance(targetToken.center,tokenD.center)>7.5){\n        if (ux > tx){await ttarget.update({x: tx+square})};\n        if (ux < tx){await ttarget.update({x: tx-square})};\n        if (uy > ty){await ttarget.update({y: ty+square})};\n        if (uy < ty){await ttarget.update({y: ty-square})};\n    }\n    if(canvas.grid.measureDistance(targetToken.center,tokenD.center)>7.5){\n        tx = ttarget.data.x;\n        ty = ttarget.data.y;\n        if (ux > tx){await ttarget.update({x: tx+square})};\n        if (ux < tx){await ttarget.update({x: tx-square})};\n        if (uy > ty){await ttarget.update({y: ty+square})};\n        if (uy < ty){await ttarget.update({y: ty-square})};\n    }\n    if(canvas.grid.measureDistance(targetToken.center,tokenD.center)<7.5){\n        const level = tokenD.actor.data.data.details.level ?? targetToken.actor.data.data.details.cr;\n        const dice = 1 + (Math.floor((level + 1) / 6));\n        useItem(tokenD,targetToken.document.uuid,dice)\n    }\n    await ttarget.unsetFlag(\"dnd5e\",\"forcedMovement\");\n    targetToken.actor.deleteEmbeddedDocuments(\"ActiveEffect\",[lastArg.effectId]);\n}\n//Creates an itemon casterToken Actor, usind data passed, uses it on tokenUuid passed,deletes the created item\nasync function useItem(casterToken,tokenUuid,dice){\n    let [item] = await casterToken.actor.createEmbeddedDocuments(\"Item\",[getItemData(dice)]);\n    await MidiQOL.completeItemRoll(item, {targetUuids: [tokenUuid]});\n    casterToken.actor.deleteEmbeddedDocuments(\"Item\",[item.id])\n}\n\nfunction getItemData(dice){\n    return {\n        name: \"Lightning Lure Damage\",\n        type: \"spell\",\n        img: \"icons/magic/light/hand-sparks-smoke-green.webp\",\n        data: {\n            actionType: \"util\",\n            activation: {type: \"none\"},\n            damage: {parts: [[`${dice}d8`, \"lightning\"]]},\n            level:0,\n            school: \"con\"\n        }\n    };\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.eyvQk9g88DjjKONT"}},"_id":"ogqTNRZxxdfDEJZB"}
{"name":"Word of Radiance","type":"spell","img":"icons/magic/holy/projectiles-blades-salvo-yellow.webp","data":{"description":{"value":"<p>You utter a divine word, and burning radiance erupts from you. Each creature of your choice that you can see within range must succeed on a Constitution saving throw or take 1d6 radiant damage.</p>\n<p> </p>\n<p>At Higher Levels. The spell’s damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":5,"width":null,"units":"ft","type":"enemy"},"range":{"value":5,"long":null,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","radiant"]],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":false,"material":true,"ritual":false,"concentration":false},"materials":{"value":"A holy symbol","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":true,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"core":{"sourceId":"Item.Pctrd9STA06uUh2m"}},"_id":"pgME5BkO0LNUi78I"}
{"_id":"rQJVJM8hH4ur3ysf","name":"Sword Burst","type":"spell","img":"icons/skills/melee/swords-triple-orange.webp","data":{"description":{"value":"<p>You create a momentary circle of spectral blades that sweep around you. All other creatures within 5 feet of you must succeed on a Dexterity saving throw or take 1d6 force damage.</p>\n<p> </p>\n<p>At Higher Levels. This spell's damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":5,"width":null,"units":"ft","type":"creature"},"range":{"value":5,"long":null,"units":"spec"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","force"]],"versatile":""},"formula":"","save":{"ability":"dex","dc":null,"scaling":"spell"},"level":0,"school":"con","components":{"value":"","vocal":true,"somatic":false,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""}},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":true,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"selfEffect":false},"core":{"sourceId":"Item.wVgZjrTjFimpOXry"}}}
{"name":"Sapping Sting","type":"spell","img":"icons/magic/unholy/strike-body-life-soul-purple.webp","data":{"description":{"value":"<p>You sap the vitality of one creature you can see in range. The target must succeed on a Constitution saving throw or take 1d4 necrotic damage and fall prone.</p>\n<p> </p>\n<p>At Higher Levels. This spell's damage increases by 1d4 when you reach 5th level (2d4), 11th level (3d4), and 17th level (4d4).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":0,"condition":""},"duration":{"value":null,"units":""},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":30,"long":30,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d4","necrotic"]],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"level":0,"school":"nec","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""}},"effects":[{"_id":"oa3tgxoqal0disxi","changes":[{"key":"flags.midi-qol.grants.advantage.attack.mwak","mode":2,"value":"0","priority":"20"},{"key":"flags.midi-qol.grants.advantage.attack.msak","mode":2,"value":"0","priority":"20"},{"key":"data.attributes.movement.walk","mode":1,"value":"0.5","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/svg/falling.svg","label":"Prone","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":["flags.midi-qol.grants.advantage.attack.mwak","flags.midi-qol.grants.advantage.attack.msak","data.attributes.movement.walk"]}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":true,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"core":{"sourceId":"Item.13jGxpT9KtJ6bApb"}},"_id":"sStSzxM8bXWvFTC5"}
{"_id":"vZYYPM9KYhQkgbwo","name":"Thorn Whip","type":"spell","img":"icons/magic/nature/vines-thorned-curled-green.webp","data":{"description":{"value":"<p>You create a long, vine-like whip covered in thorns that lashes out at your command toward a creature in range. Make a melee spell attack against the target. If the attack hits, the creature takes 1d6 piercing damage, and if the creature is Large or smaller, you pull the creature up to 10 feet closer to you.</p>\n<p> </p>\n<p>At Higher Levels. This spell’s damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":"inst"},"target":{"value":1,"width":null,"units":"","type":"creature"},"range":{"value":30,"long":30,"units":"ft"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"msak","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","piercing"]],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":0,"school":"trs","components":{"value":"","vocal":true,"somatic":true,"material":true,"ritual":false,"concentration":false},"materials":{"value":"The stem of a plant with thorns","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[{"_id":"wh71jfxl127zw2cz","changes":[{"key":"macro.itemMacro","mode":0,"value":"@token","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"icons/magic/nature/vines-thorned-curled-green.webp","label":"Thorn Whip","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false,"fumbleThreshold":null},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"selfEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Thorn Whip","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0]===\"on\"){\n    const lastArg = args[args.length-1];\n    const ttarget = canvas.scene.tokens.get(lastArg.tokenId);\n    const targetToken = canvas.tokens.get(lastArg.tokenId);\n    const tokenD = canvas.tokens.get(args[1]);\n    const square = canvas.dimensions.size;\n    await ttarget.setFlag(\"dnd5e\",\"forcedMovement\",2);\n    if(ttarget.data.width > 2){return}\n    let ux = tokenD.x;\n    let uy = tokenD.y;\n    let tx = ttarget.data.x;\n    let ty = ttarget.data.y;\n    if(canvas.grid.measureDistance(targetToken.center,tokenD.center)>7.5){\n        if (ux > tx){await ttarget.update({x: tx+square})};\n        if (ux < tx){await ttarget.update({x: tx-square})};\n        if (uy > ty){await ttarget.update({y: ty+square})};\n        if (uy < ty){await ttarget.update({y: ty-square})};\n    }\n    if(canvas.grid.measureDistance(targetToken.center,tokenD.center)>7.5){\n        tx = ttarget.data.x;\n        ty = ttarget.data.y;\n        if (ux > tx){await ttarget.update({x: tx+square})};\n        if (ux < tx){await ttarget.update({x: tx-square})};\n        if (uy > ty){await ttarget.update({y: ty+square})};\n        if (uy < ty){await ttarget.update({y: ty-square})};\n    }\n    await ttarget.unsetFlag(\"dnd5e\",\"forcedMovement\");\n    ttarget.actor.deleteEmbeddedDocuments(\"ActiveEffect\",[lastArg.effectId]);\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"core":{"sourceId":"Item.HnuiRcZBgBw0BdXl"}}}
{"_id":"wa8XiSc48T0wa3Gy","name":"Thunderclap","type":"spell","img":"icons/magic/sonic/explosion-shock-wave-teal.webp","data":{"description":{"value":"<p>You create a burst of thunderous sound, which can be heard 100 feet away. Each creature other than you within 5 feet of you must make a Constitution saving throw. On a failed save, the creature takes 1d6 thunder damage.</p>\n<p> </p>\n<p>At Higher Levels. The spell’s damage increases by 1d6 when you reach 5th level (2d6), 11th level (3d6), and 17th level (4d6).</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":null,"units":""},"target":{"value":5,"width":null,"units":"ft","type":"creature"},"range":{"value":5,"long":null,"units":"spec"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"save","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[["1d6","thunder"]],"versatile":""},"formula":"","save":{"ability":"con","dc":null,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":false,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":null},"effects":[],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"midi-qol":{"effectActivation":false},"midiProperties":{"nodam":true,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"core":{"sourceId":"Item.Pctrd9STA06uUh2m"}}}
{"_id":"xPSTAXyTDhsm6HdU","name":"Light (Macro)","type":"spell","img":"systems/dnd5e/icons/spells/light-sky-1.jpg","data":{"description":{"value":"<p>You touch one object that is no larger than 10 feet in any dimension. Until the spell ends, the object sheds bright light in a 20-foot radius and dim light for an additional 20 feet. The light can be colored as you like. Completely covering the object with something opaque blocks the light. The spell ends if you cast it again or dismiss it as an action.</p><p>If you target an object held or worn by a hostile creature, that creature must succeed on a Dexterity saving throw to avoid the spell.</p>","chat":"","unidentified":""},"source":"PHB pg. 255","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"hour"},"target":{"value":1,"width":null,"units":"","type":"object"},"range":{"value":null,"long":null,"units":"touch"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":"","value":""},"formula":"","save":{"ability":"","dc":0,"scaling":"spell"},"level":0,"school":"evo","components":{"value":"","vocal":true,"somatic":false,"material":true,"ritual":false,"concentration":false},"materials":{"value":"A firefly or phosphorescent moss.","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":0},"effects":[{"_id":"dMc3lJcXqXpqzbQU","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null,"seconds":3600,"rounds":600},"icon":"systems/dnd5e/icons/spells/light-sky-1.jpg","label":"Light","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false},"ActiveAuras":{"isAura":false,"aura":"None","radius":null,"alignment":"","type":"","ignoreSelf":false,"height":false,"hidden":false,"displayTemp":false,"hostile":false,"onlyOnce":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.Bnn9Nzajixvow9xi"},"scene-packer":{"sourceId":"Item.ED3V9Qhp4p63ejqz"},"siftoolkit":{"SIFData":{"ignoreDuration":false,"texture":"","useTexture":false,"alpha":50,"coneOrigin":1,"loopAnimations":true,"playTemplateAudio":false,"playDamageAudio":false,"playSaveAudio":false,"clip":"","volume":100}},"itemacro":{"macro":{"data":{"_id":null,"name":"Light","type":"script","author":"LK3GGIRsXTESa8v3","img":"icons/svg/dice-target.svg","scope":"global","command":"if(args[0]===\"on\"){\nlet targetToken = canvas.tokens.get(args[2].tokenId)\ntargetToken.document.update({'light.bright':20})\ntargetToken.document.update({'light.dim':40})\n}\nif(args[0]===\"off\"){\nlet targetToken = canvas.tokens.get(args[2].tokenId)\ntargetToken.document.update({'light.bright':0})\ntargetToken.document.update({'light.dim':0})\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}},"midi-qol":{"effectActivation":false,"onUseMacroName":"[postActiveEffects]ItemMacro"},"enhanced-terrain-layer":{"multiple":1,"min":null,"max":null,"environment":""},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false,"selfEffect":false}}}
{"_id":"xuKU5Xh8rUeRrGSY","name":"Blade Ward","type":"spell","img":"icons/skills/melee/sword-damaged-broken-purple.webp","data":{"description":{"value":"<p>You extend your hand and trace a sigil of warding in the air. Until the end of your next turn, you have resistance against bludgeoning, piercing, and slashing damage dealt by weapon attacks.</p>","chat":"","unidentified":""},"source":"","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":1,"units":"round"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":null,"max":"","per":""},"consume":{"type":"","target":"","amount":null},"ability":null,"actionType":"","attackBonus":0,"chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell"},"level":0,"school":"abj","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"none","formula":""},"attunement":null},"effects":[{"_id":"1DzESHz7oOgQ8uxI","changes":[{"key":"data.traits.dr.value","mode":0,"value":"bludgeoning","priority":"20"},{"key":"data.traits.dr.value","mode":0,"value":"piercing","priority":"20"},{"key":"data.traits.dr.value","mode":0,"value":"slashing","priority":"20"}],"disabled":false,"duration":{"startTime":null,"rounds":1},"icon":"icons/skills/melee/sword-damaged-broken-purple.webp","label":"Blade Ward","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","macroRepeat":"none","specialDuration":[],"transfer":false,"durationExpression":""}},"tint":"","selectedKey":["data.traits.dr.value","data.traits.dr.value","data.traits.dr.value"]}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Item.R6XiGtGdFZAheq1p"},"enhanced-terrain-layer":{"multiple":1,"min":null,"max":null,"environment":""}}}
{"_id":"ztQnXmDoAcjMPkgn","name":"Produce Flame","type":"spell","img":"systems/dnd5e/icons/spells/explosion-orange-2.jpg","data":{"description":{"value":"<p>A flickering flame appears in your hand. The flame remains there for the Duration and harms neither you nor your Equipment. The flame sheds bright light in a 10-foot radius and dim light for an additional 10 feet. The spell ends if you dismiss it as an action or if you cast it again.</p><p>You can also Attack with the flame, although doing so ends the spell. When you cast this spell, or as an action on a later turn, you can hurl the flame at a creature within 30 feet of you. Make a ranged spell Attack. On a hit, the target takes 1d8 fire damage.</p><p>This spell's damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>","chat":"","unidentified":""},"source":"PHB pg. 269","activation":{"type":"action","cost":1,"condition":""},"duration":{"value":10,"units":"minute"},"target":{"value":null,"width":null,"units":"","type":"self"},"range":{"value":null,"long":null,"units":"self"},"uses":{"value":0,"max":"0","per":""},"consume":{"type":"","target":"","amount":null},"ability":"","actionType":"util","attackBonus":"0","chatFlavor":"","critical":{"threshold":null,"damage":""},"damage":{"parts":[],"versatile":""},"formula":"","save":{"ability":"","dc":null,"scaling":"spell","value":""},"level":0,"school":"con","components":{"value":"","vocal":true,"somatic":true,"material":false,"ritual":false,"concentration":false},"materials":{"value":"","consumed":false,"cost":0,"supply":0},"preparation":{"mode":"prepared","prepared":false},"scaling":{"mode":"cantrip","formula":""},"attunement":0},"effects":[{"_id":"ea8nj83wjzq69joi","changes":[{"key":"macro.itemMacro","mode":0,"value":"0","priority":"20"}],"disabled":false,"duration":{"startTime":null},"icon":"systems/dnd5e/icons/spells/explosion-orange-2.jpg","label":"Produce Flame","transfer":false,"flags":{"core":{"statusId":""},"dae":{"stackable":"none","durationExpression":"","specialDuration":[],"transfer":false}},"tint":null,"selectedKey":"macro.itemMacro"}],"folder":null,"sort":0,"permission":{"default":0,"U3VAAELfq3wUHjF9":3},"flags":{"core":{"sourceId":"Compendium.dnd5e.spells.eCPQuQkIabFKTl9u"},"midi-qol":{"effectActivation":false,"fumbleThreshold":null},"midiProperties":{"nodam":false,"fulldam":false,"halfdam":false,"rollOther":false,"critOther":false,"magicdam":false,"magiceffect":false,"concentration":false,"toggleEffect":false},"itemacro":{"macro":{"data":{"_id":null,"name":"Produce Flame","type":"script","author":"U3VAAELfq3wUHjF9","img":"icons/svg/dice-target.svg","scope":"global","command":"const lastArg = args[args.length-1]\nif(args[0]===\"on\"){\n    let targetToken = canvas.tokens.get(lastArg.tokenId)\n    let level = targetToken.actor.data.data.details.level ?? targetToken.actor.data.data.details.cr;\n    let dice = 1 + (Math.floor((level + 1) / 6));\n    const itemData = {\n        name: \"Produce Flame Attack\",\n        type: \"spell\",\n        img: \"systems/dnd5e/icons/spells/explosion-orange-2.jpg\",\n        data: {\n            actionType: \"rwak\",\n            activation: {type: \"action\"},\n            damage: {parts: [[`${dice}d8`, \"fire\"]]},\n            level:0,\n            school: \"con\",\n            target: {value: 1, type: \"creature\"},\n            range: {value: 30, units: \"ft\"}\n        }\n    }\n    const [item] = await targetToken.actor.createEmbeddedDocuments(\"Item\", [itemData]);\n    DAE.setFlag(targetToken.actor,\"produceFlameItemId\",item.id)\n    targetToken.document.update({'light.bright':10})\n    targetToken.document.update({'light.dim':20})\n    let hookId = Hooks.on(\"midi-qol.RollComplete\",(workflow)=>{\n        if(workflow.itemId === item.id)\n            targetToken.actor.deleteEmbeddedDocuments(\"ActiveEffect\",[lastArg.effectId])\n    })\n    DAE.setFlag(targetToken.actor,\"produceFlameHookId\",hookId)\n}\nif(args[0]===\"off\"){\nlet targetToken = canvas.tokens.get(lastArg.tokenId)\nHooks.off(\"midi-qol.RollComplete\",DAE.getFlag(targetToken.actor,\"produceFlameHookId\"));\ntargetToken.actor.deleteEmbeddedDocuments(\"Item\", [DAE.getFlag(targetToken.actor,\"produceFlameItemId\")]);\ntargetToken.document.update({'light.bright':0})\ntargetToken.document.update({'light.dim':0})\n}","folder":null,"sort":0,"permission":{"default":0},"flags":{}}}}}}
